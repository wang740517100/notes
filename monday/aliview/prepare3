HashMap&ConcurrentHashMap

1、再谈谈一致hash算法？
- 环形结构 + 虚拟slot

2、乐观锁&悲观锁？

3、可重入锁&Synchronize？
   等待通知

4、事务四大特性？

5、事务的二段提交机制?
请求 - 提交
请求 - 预提交 - 提交

6、聚簇索引&非聚簇索引？

7、用自己的实践经历说一下索引的使用场景(说一个就要举一个例子)？

8、当前读&快照读？
- 当前读读的是数据的最新信息 next-key lock(索引记录锁+间隙锁)实现
- 快照读读的是数据的版本信息 mvcc

9、类加载过程？
- 加载、验证、解析、准备、初始化

10、双亲委派机制及使用原因？
- 判断两个对象是否相同的条件是初始化的类名一致且加载类的类加载器一样

11、说说GC算法？

12、Http&Https的区别、Https的加密方式
- ssl数字证书、公钥和私钥、非对称加密算法

13、线程池的核心参数和基本原理

14、线程池的调优策略

15、你有什么职业规划


1、说说自己参与的项目，技术难度在哪里？
- 退出合作系统优化：慢接口优化、代码重构

2、Collections.sort底层排序方式？排序稳定性？具体场景的排序策略？
- TimSort 归并排序和插入排序

5、Http请求过程，DNS解析过程。
Http请求过程：
- dns 传输层tcp 网络层ip 数据链路层(以太网协议) 物理层
- dispatchServelt接收请求和响应、handleMapping(handle)、handleAdapter(modelAndView)、ViewReslover(view)

DNS解析过程：
- 先检查浏览器本地缓存中有没有
- 然后找hosts文件里面有没有
- 本地域名服务器（LDNS）来解析这个域名
- 根域名服务器返回给LDNS一个所查询域的主域名服务器（gTLD Server），LDNS再请求gTLD获取
  Name Server的地址（网站注册的域名服务器），Name Server根据映射关系表找到目标ip，返回
  给LDNS并缓存，然后返回给用户，用户缓存在本地浏览器中

6、三次握手四次挥手
- 建立连接客户端和服务端的最小连接数，通过ack实现的
- TCP连接是双工的，断开是分开的

7、简述线程池和并发工具的使用？
- 线程池 countdownlaunch cyclicbarrier semphore exchanger funture

8、数据库索引原理

9、频繁老年代回收怎么分析解决
jps -v  jstat -gc 1000 10  jmap
- 新生代频繁回收导致越来越多的对象进入老年代
- 大对象太多导致直接进入老年代
- 检查代码问题，如果不是就调整堆分配比例

10、Spring IOC、AOP？
- 实例化 属性注入 初始化 销毁

11、讲讲SpringBoot/SpringCloud的一些应用？
- eureka、配置中心、hystrix、feign、ribbon

12、阻塞队列不用java提供的自己怎么实现，condition和wait不能用
take和put：
- 使用await和signal
- 使用Unsafe和park和unpark + 自旋

13、拥塞窗口讲一讲，为什么要用慢启动算法

14、负载均衡的原理？
- 转发节点、轮询-链表、hash

15、Redis的数据一致性问题（分布式多节点环境 & 单机环境）？
- 更新：先删除redis、再更新
- 查询：如果没有加载进redis供查询使用
- 使用内存队列实现，分布式多节点可以使用业务主键hash算法

14、讲讲docker容器？
Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的
Linux或Windows 机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口

15、如何实现何高并发下的削峰，限流？
- mq  hystrix

16、你有什么职业规划（每个面试官都要问这个问题，三面也是）


1、项目中用的中间件的理解(Dubbo、MQ、Redis、kafka、zk)
- 谈架构 CAP BASE

2、服务器雪崩是怎么造成的？之前有这样的经历吗？怎么防备？
- 服务堆积在同一个线程池中，因为所有的请求都是同一个线程池进行处理，这时候如果在高并发情况下，
  所有的请求全部访问同一个接口。一个服务导致其它调用服务也阻塞进而导致雪崩。

eg：IOS信息上报更新使用了未添加索引的字段第二天峰值时导致整个java网关不可用，
    数据库没有做资源隔离导致服务器的java服务不可用。

  用hystrix做限流和降级

3、高并发架构的设计思路
- 代码、缓存、索引和分库分表、MQ削峰、ES

4、以前项目中遇到的最大问题和解决策略。
背景：直销未拨打页面出现2w多脏数据
原因：id_in 的ArraysList长度为0时会去掉导致更新了2w多脏数据
解决方案：定位问题，用ELK发现该服务凌晨两点有2w多条日志进而确定是哪个定时任务，然后确定代码具体原因
找dba找到凌晨定时任务执行的binlog，然后写脚本批量生成反向还原的sql给dba执行
总结：自测和测试要充分、不能只会使用组件而不知道其原理

5、生活中遇到的最大的挫折。
实习时遇到的导师很严厉，自尊心强，每天工作的压力很大，上下班都在想，晚上做梦失眠都在想问题。每天都想要放弃。
大丰项目跟进，每天代表公司在工资科、信息科、局长之间斡旋，每天都会偏头痛。
骑行西藏时每天都想回。

6、生活中遇到的最大的令你最有成就感的事情
坚持跑步三年，体重从150到120，跑了六次马拉松，完成大学的毕业目标骑行川藏线

7、你有什么职业规划。
- 三年内要成为技术专家：方法论建设、拓宽技术广度(大数据spark、storm和hadoop生态圈)和
深度(数据结构和操作系统和代码重构)
- 八年内要用技术做出成就，一步一个脚印1)把事情做完2)把事情做好3)创新

8、为什么要用你，你与其他竞争者比较优势是什么
- 行动力：知行合一
- 积极有感软力：热爱运动看书和电影，热爱生活

9、你有什么想问我的。

10、如果公司需要你加班你有问题吗

11、其次聊人生谈理想，HR很ncie，主要交流为什么选择来阿里，未来的打算等，交流挺愉快。